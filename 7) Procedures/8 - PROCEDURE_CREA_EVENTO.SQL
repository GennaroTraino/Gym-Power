CREATE OR REPLACE PROCEDURE CREA_EVENTO
(
	NOME 		EVENTO.NOME_EVENTO%TYPE,	
	CAP 		EVENTO.CAP_EVENTO%TYPE,
	DATA 		EVENTO.DATA%TYPE
)
IS

DOMENICA EXCEPTION;

BEGIN

IF (UPPER(TO_CHAR(DATA,'DY')) = 'SUN') THEN RAISE DOMENICA;
END IF;

INSERT INTO EVENTO VALUES (NOME,CAP,DATA);

EXCEPTION
WHEN DOMENICA THEN
	RAISE_APPLICATION_ERROR(-20567,'NON PUOI ORGANIZZARE EVENTI DI DOMENICA!');
END CREA_EVENTO;
/